# SecretProviderClass for Google Secret Manager
# Requires: GKE Secret Manager addon enabled
apiVersion: secrets-store.csi.x-k8s.io/v1
kind: SecretProviderClass
metadata:
  name: chaincopilot-secrets-provider
spec:
  provider: gcp
  parameters:
    secrets: |
      - resourceName: "projects/609462713096/secrets/GEMINI_API_KEY/versions/latest"
        path: "gemini-api-key"
  # Sync secrets to Kubernetes Secret (for env vars)
  secretObjects:
    - secretName: chaincopilot-secrets
      type: Opaque
      data:
        - objectName: "gemini-api-key"
          key: "google-api-key"
